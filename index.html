<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Íô∞ Yatharth ‚Äî ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä</title>
  <meta name="description" content="Yatharth ‚Äî ‡§®‡§ø‡§∑‡•ç‡§™‡§ï‡•ç‡§∑ ‡§∏‡§Æ‡§ù; Audio, photos, manifesto. Support optional.">
  <meta name="keywords" content="Yatharth, ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä, Nishpaksh Samajh, audio, manifesto">
  <meta property="og:title" content="Yatharth ‚Äî ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä">
  <meta property="og:description" content="Free audio, manifesto and vision assets ‚Äî proceeds support Saneha Saini.">
  <style>
    :root{
      --bg-dark:#070707; --gold:#ffd966; --muted:#cfcfcf; --panel:rgba(255,255,255,0.03);
      --maxw:1180px; --radius:12px; --pill-radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,'Noto Sans Devanagari','Noto Sans',system-ui;-webkit-font-smoothing:antialiased}
    a{color:var(--gold);text-decoration:none}
    .wrap{max-width:var(--maxw);margin:18px auto;padding:28px}
    header{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
    .brand{display:flex;gap:12px;align-items:center}
    .mark{font-size:40px;color:var(--gold);font-weight:900}
    .lead{color:var(--muted);font-size:13px}
    nav{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    .link-pill{padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,0.06);color:var(--gold);font-weight:700}
    .card{background:var(--panel);padding:14px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.03)}
    body{background:var(--bg-dark);color:#fff}
    .hero{display:grid;grid-template-columns:1fr 420px;gap:28px;align-items:start}
    .main-photo{width:260px;border-radius:14px;border:6px solid rgba(255,215,102,0.06);display:block;margin:0 auto;transition:transform .36s}
    .main-photo:hover{transform:scale(1.03)}
    .gold-frame{padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,215,102,0.02), rgba(255,215,102,0.008));border:2px solid rgba(255,215,102,0.08)}
    .gold-caption{margin-top:12px;text-align:center;color:var(--gold);font-weight:800;font-size:15px;line-height:1.4}
    .payments{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;align-items:center;margin-top:16px}
    .pay-card{padding:16px;border-radius:12px;text-align:center;background:linear-gradient(180deg, rgba(255,215,102,0.02), rgba(255,215,102,0.01));border:1px solid rgba(255,215,102,0.06)}
    .pay-qr{width:150px;height:150px;object-fit:cover;border-radius:10px;border:4px solid rgba(255,255,255,0.03)}
    .btn{background:var(--gold);color:#050505;padding:10px 14px;border-radius:12px;font-weight:800;display:inline-block;cursor:pointer}
    .folders{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:14px}
    .folder-pill{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.05);color:var(--gold);font-weight:800}
    .player{background:rgba(0,0,0,0.45);padding:12px;border-radius:12px;margin-top:12px}
    .playlist{list-style:none;padding:0;margin:8px 0}
    .playlist li{padding:8px;border-radius:8px;margin:6px 0;background:rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center}
    .muted{color:var(--muted)}
    .about{margin-top:16px}
    .editor{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
    input,textarea,button{background:rgba(255,255,255,0.03);color:#fff;border:none;padding:10px;border-radius:8px;font-size:14px}
    textarea{min-height:80px;resize:vertical}
    @media(max-width:980px){.hero{grid-template-columns:1fr}.main-photo{width:160px}.payments{grid-template-columns:1fr}}
    a:focus,button:focus,input:focus,textarea:focus{outline:3px solid rgba(255,215,102,0.14);outline-offset:3px;border-radius:8px}
    .ripple{position:relative;overflow:hidden}
    .ripple::after{content:"";position:absolute;left:50%;top:50%;width:0;height:0;background:rgba(255,255,255,0.12);border-radius:50%;transform:translate(-50%,-50%);transition:width .38s ease, height .38s ease, opacity .4s;opacity:0}
    .ripple.rip::after{width:200%;height:200%;opacity:1}
    @media (prefers-reduced-motion: reduce){*{transition:none!important}}
  </style>
</head>
<body>
  <main class="wrap" role="main">
    <header>
      <div class="brand" aria-hidden>
        <div class="mark">Íô∞</div>
        <div>
          <h1>‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä ‚Äî Nishpaksh Samajh</h1>
          <div class="lead small">Free for all ¬∑ Read & Listen ¬∑ Support optional</div>
        </div>
      </div>

      <nav aria-label="top links">
        <a class="link-pill ripple" href="https://www.facebook.com/" target="_blank">Facebook</a>
        <a class="link-pill ripple" href="https://en.wikipedia.org/wiki/User:Shiromni_Rampaulsaini" target="_blank">Wikipedia</a>
        <a class="link-pill ripple" href="https://www.linkedin.com/" target="_blank">LinkedIn</a>
        <a class="link-pill ripple" href="https://t.me/sampaulsaini" target="_blank">Telegram</a>
        <a class="link-pill ripple" href="https://wa.me/918082935186" target="_blank">WhatsApp</a>
        <a class="link-pill ripple" href="https://youtube.com/@rampaulsaini-yk4gn" target="_blank">YouTube</a>
        <button id="viewToggle" class="btn" title="Toggle Simple / Supreme view">Simple View</button>
      </nav>
    </header>

    <section class="hero" aria-labelledby="hero-title">
      <div>
        <img class="main-photo" src="https://i.ibb.co/xqf3kTPS/enhanced-image.webp" alt="Shromani Rampaulsaini" loading="lazy">
        <div class="gold-caption">‡§Æ‡•à‡§Ç ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ‡§§‡•Ä‡§§ ‡§ï‡§æ‡§≤‡§æ‡§§‡•Ä‡§§ ‡§¶‡•ç‡§µ‡•à‡§§‡§§‡•Ä‡§§ ‡§∂‡§¨‡•ç‡§¶‡§æ‡§§‡•Ä‡§§ ‡§™‡•ç‡§∞‡•á‡§Æ‡§§‡§ø‡§§ ‡§∏‡§Æ‡•ç‡§™‡§®‡•ç‡§®‡§§‡§æ ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§æ ‡§∏‡§Æ‡§ó‡•ç‡§∞‡§§‡§æ ‡§∏‡§Ç‡§§‡•Å‡§∑‡•ç‡§ü‡§ø ‡§∏‡§§‡•ç‡§Ø ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§∂‡§æ‡§∂‡•ç‡§µ‡§§ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§∏‡•ç‡§≠‡§æ‡§µ‡§ø‡§ï ‡§∏‡§§‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§π‡•Ç‡§Å, "‡§ñ‡•Å‡§¶ ‡§ï‡§æ ‡§∏‡§æ‡§ï‡•ç‡§∑‡§æ‡§§‡•ç‡§ï‡§æ‡§∞ ‡§π‡•Ç‡§Å"</div>

        <div class="gold-frame card about" id="aboutBlock">
          <h3 style="margin:0;color:var(--gold)">About ‚Äî ‡§™‡§∞‡§ø‡§ö‡§Ø</h3>
          <p class="muted" style="margin-top:10px">‡§®‡§ø‡§∑‡•ç‡§™‡§ï‡•ç‡§∑ ‡§∏‡§Æ‡§ù (Yatharth) ‚Äî ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§ø‡§§ ‡§è‡§ï ‡§Ö‡§®‡•Å‡§≠‡§µ-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§¶‡§∞‡•ç‡§∂‡§®, ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø ‡§ï‡•ã ‡§â‡§∏‡§ï‡•Ä ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï‡§§‡§æ ‡§∏‡•á ‡§™‡§∞‡§ø‡§ö‡§ø‡§§ ‡§ï‡§∞‡§æ‡§®‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ú‡•ç‡§û‡§æ‡§® ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§‡§æ‡§ì‡§Ç ‡§™‡§∞ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§®‡§π‡•Ä‡§Ç, ‡§¨‡§≤‡•ç‡§ï‡§ø ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§Ö‡§®‡•Å‡§≠‡§µ ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§æ‡§µ‡§π‡§æ‡§∞‡§ø‡§ï ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡•ã‡§Ç ‡§™‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§π‡•à‡•§</p>
          <p class="muted" style="margin-top:10px">‡§Ø‡§¶‡§ø ‡§Ü‡§™ ‡§ö‡§æ‡§π‡•á‡§Ç, ‡§Æ‡•à‡§Ç ‡§Ø‡§π ‡§Ö‡§®‡•Å‡§≠‡§æ‡§ó ‡§î‡§∞ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§ï‡§∞ ‡§¶‡•Ç‡§Å ‚Äî ‡§ú‡•Ä‡§µ‡§®-‡§µ‡•É‡§§‡•ç‡§§, ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡§ø‡§Ø‡§æ‡§Å, ‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§î‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§® ‡§∏‡•Ç‡§ö‡•Ä ‡§ú‡•ã‡§°‡§º‡§ï‡§∞‡•§</p>
        </div>

        <div class="player card" id="audioPlayerBlock">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div><strong>Audio Player</strong><div class="muted small">Drive ‡§Ø‡§æ direct mp3 ‡§≤‡§ø‡§Ç‡§ï ‡§°‡§æ‡§≤‡•á‡§Ç ‚Äî ‡§®‡•Ä‡§ö‡•á 'Add' ‡§ï‡§∞‡•á‡§Ç ‚Üí ‡§´‡§ø‡§∞ Play</div></div>
            <div><button id="togglePlay" class="btn ripple">Play / Pause</button></div>
          </div>

          <audio id="audioEl" preload="none"></audio>

          <ul class="playlist" id="playlist"></ul>

          <div class="editor">
            <input id="mp3Input" placeholder="Paste Google Drive file link OR direct mp3 URL here" style="flex:1">
            <button id="addTrackBtn" class="btn">Add</button>
            <button id="clearPlaylistBtn" class="btn">Clear</button>
          </div>

          <div class="muted small" style="margin-top:8px">
            ‡§ü‡§ø‡§™: Google Drive ‡§´‡§º‡§æ‡§á‡§≤ link ‡§∏‡•á direct playable link ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‚Äî ‡§â‡§∏ ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡§æ Share link (Anyone with the link) paste ‡§ï‡§∞‡•á‡§Ç; ‡§Ø‡§π ‡§∏‡§æ‡§á‡§ü auto-convert ‡§ï‡§∞‡•á‡§ó‡•Ä. ‡§Æ‡•à‡§Ç ‡§Ö‡§ó‡§∞ ‡§ö‡§æ‡§π‡•Ç‡§Å ‡§§‡•ã ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π conversion ‡§≠‡•Ä ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ/‡§∏‡§ï‡§§‡•Ä ‡§π‡•Ç‡§Å‡•§
          </div>
        </div>

      </div>

      <aside class="card" style="padding:18px">
        <div style="margin-bottom:12px">
          <div style="font-weight:800;color:var(--gold)">All content ‚Äî Free to Read & Listen</div>
          <div class="muted small">Audio, manifesto, photos & vision assets ‚Äî proceeds support Saneha Saini</div>
        </div>

        <div class="folders" role="list" aria-label="important folders">
          <a class="folder-pill ripple" href="https://photos.app.goo.gl/4MP8THuxhei9NuxR6" target="_blank">‚úÖ Golden Temple</a>
          <a class="folder-pill ripple" href="https://photos.app.goo.gl/bMoqL2Cx7kKpkmMy6" target="_blank">‚úÖ MP3 (Photos link)</a>
          <a class="folder-pill ripple" href="https://photos.app.goo.gl/hBJ4mN176PboQ7bb6" target="_blank">‚úÖ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ ‡§™‡§§‡•ç‡§∞</a>
          <a class="folder-pill ripple" href="https://drive.google.com/drive/folders/18iPsn9Rjc7E0jNwvIx_h5MwQrhqyYt1Y" target="_blank">‚úÖ Short Audios (Drive)</a>
          <a class="folder-pill ripple" href="https://drive.google.com/drive/folders/1sZEJhlZWFHP7O1kZEINnqFCNgqhOa8XC" target="_blank">‚úÖ Videos Album</a>
          <a class="folder-pill ripple" href="https://drive.google.com/drive/folders/1Ap2N-90wM9R75ffOQAiXczZwNu8dTc7u" target="_blank">‚úÖ Album 1</a>
        </div>

        <div style="margin-top:14px" class="payments" aria-label="payments">
          <div class="pay-card" role="group" aria-labelledby="paytm-title">
            <h4 id="paytm-title">Paytm / PhonePe</h4>
            <img class="pay-qr" src="https://i.ibb.co/PRtY7bL/alt-upi-qr.webp" alt="Paytm QR">
            <div class="muted">Phone: <strong>8082935186</strong></div>
            <div style="margin-top:8px"><a class="btn ripple" href="upi://pay?pa=sainirampaul90-1@okhdfcbank">Open UPI</a></div>
          </div>

          <div class="pay-card" role="group" aria-labelledby="paypal-title">
            <h4 id="paypal-title">PayPal / Card</h4>
            <img class="pay-qr" src="https://i.ibb.co/8jvTQ7p/paypal-qr.webp" alt="PayPal QR">
            <div class="muted">PayPal: <strong>paypal.me/sainirampaul60</strong></div>
            <div style="margin-top:8px"><a class="btn ripple" href="https://paypal.me/sainirampaul60" target="_blank">Open PayPal</a></div>
          </div>
        </div>
      </aside>
    </section>

    <section id="supportSection" style="margin-top:28px">
      <div class="card gold-frame" style="padding:18px">
        <h2 style="margin:0;color:var(--gold);text-align:center">‡§∏‡§§‡•ç‡§Ø ‡§ï‡•á ‡§á‡§∏ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡§π‡§Ø‡•ã‡§ó</h2>
        <p style="text-align:center;color:#ddd;margin-top:8px">‡§Ø‡§π ‡§∏‡§π‡§Ø‡•ã‡§ó ‡§™‡•Ç‡§∞‡•ç‡§£‡§§‡§É ‡§∏‡•ç‡§µ‡•à‡§ö‡•ç‡§õ‡§ø‡§ï ‡§π‡•à ‚Äî ‡§á‡§∏‡•á ‡§∏‡•Å‡§®‡§®‡§æ, ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡§®‡§æ ‡§î‡§∞ ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‡§¶‡•á‡§®‡§æ ‚Äî ‡§∏‡§≠‡•Ä ‡§∏‡§§‡•ç‡§Ø ‡§ï‡•Ä ‡§∏‡•á‡§µ‡§æ ‡§π‡•à‡§Ç‡•§</p>

        <div style="margin-top:14px;max-width:880px;margin-left:auto;margin-right:auto">
          <div class="card" style="background:rgba(0,0,0,0.45);padding:14px">
            <form id="supportForm" novalidate>
              <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center">
                <input id="sname" name="name" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ (public)" style="width:240px">
                <input id="semail" name="email" placeholder="‡§à‡§Æ‡•á‡§≤ (private)" style="width:240px">
                <input id="scountry" name="country" placeholder="Country (optional)" style="width:240px">
              </div>
              <div style="margin-top:10px;text-align:center">
                <textarea id="smsg" name="message" placeholder="‡§Ü‡§™‡§ï‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ / ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§ö‡§®" required></textarea>
              </div>
              <div style="margin-top:10px;text-align:center">
                <button type="submit" id="sendBtn" class="btn">‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≠‡•á‡§ú‡•á‡§Ç</button>
              </div>
            </form>
          </div>

          <div style="display:flex;gap:22px;flex-wrap:wrap;justify-content:center;margin-top:14px">
            <div style="width:320px">
              <h3 style="color:var(--gold)">ü§ù ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ï ‡§∏‡•Ç‡§ö‡•Ä</h3>
              <ul id="supList" style="padding:0;color:#fff;min-height:60px"></ul>
            </div>
            <div style="width:520px">
              <h3 style="color:var(--gold)">üïä ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§ö‡§® / ‡§∏‡§Ç‡§¶‡•á‡§∂</h3>
              <div id="msgWall" style="min-height:60px;color:#ddd"></div>
              <div style="text-align:right;margin-top:8px"><button id="exportBtn" class="btn">Export Messages</button></div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <footer style="margin-top:28px">
      <div>Íô∞ ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•â‡§≤ ‡§∏‡•à‡§®‡•Ä ‚Äî ¬© Yatharth Siddhant</div>
      <div class="muted">Proceeds support <strong>Saneha Saini</strong> ‚Ä¢ Contact: Telegram / WhatsApp</div>
      <div class="muted" style="margin-top:6px;font-size:13px">
        Donate: Paytm/Phone <code style="color:var(--gold)">8082935186</code> ‚Ä¢ PayPal: <a href="https://paypal.me/sainirampaul60" style="color:var(--gold)">paypal.me/sainirampaul60</a>
      </div>
    </footer>
  </main>

  <script>
  (function(){
    // ---------- CONFIG ----------
    const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyLw3pepZQ6SrS8oOKSCzeI3ZsU4dqbng-vKBA42HRSnRo8-N1ggWsg3S00l3oGDDJi/exec";
    const SECRET_TOKEN = "Y4h9r7PqZ2uA8xVbL0cM3sK";

    // helpers
    const $ = id => document.getElementById(id);
    const escapeHtml = s => String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');

    // ---------- View toggle ----------
    const viewBtn = $('viewToggle');
    viewBtn.addEventListener('click', ()=>{
      document.body.classList.toggle('simple');
      const isSimple = document.body.classList.contains('simple');
      viewBtn.textContent = isSimple ? 'Supreme View' : 'Simple View';
    });

    // ripple effect
    document.addEventListener('click', function(e){
      const el = e.target.closest('.ripple');
      if(!el) return;
      el.classList.remove('rip');
      void el.offsetWidth;
      el.classList.add('rip');
      setTimeout(()=> el.classList.remove('rip'), 420);
    });

    // ---------- AUDIO: playlist editor + player ----------
    const audio = $('audioEl');
    const playlistEl = $('playlist');
    const mp3Input = $('mp3Input');
    const addTrackBtn = $('addTrackBtn');
    const clearPlaylistBtn = $('clearPlaylistBtn');
    const togglePlayBtn = $('togglePlay');

    let playlist = []; // {title, src}

    function driveToDirect(link){
      if(!link) return null;
      try{
        const u = new URL(link);
        if(u.hostname.includes('drive.google.com')){
          const parts = u.pathname.split('/');
          const idIndex = parts.indexOf('d');
          if(idIndex !== -1 && parts[idIndex+1]) return 'https://drive.google.com/uc?export=download&id=' + parts[idIndex+1];
          const id = u.searchParams.get('id');
          if(id) return 'https://drive.google.com/uc?export=download&id=' + id;
          if(u.pathname.includes('uc')) return link;
        }
      }catch(e){}
      if(link.match(/\.(mp3|m4a|wav)(\?|$)/i)) return link;
      return null;
    }

    function renderPlaylist(){
      playlistEl.innerHTML = '';
      playlist.forEach((t, idx)=>{
        const li = document.createElement('li');
        li.innerHTML = `<span>${escapeHtml(t.title||('Track '+(idx+1)))}</span><div style="display:flex;gap:8px"><button class="btn playBtn" data-idx="${idx}">Play</button><button class="btn removeBtn" data-idx="${idx}">Remove</button></div>`;
        playlistEl.appendChild(li);
      });
    }

    function addTrackFromInput(){
      const val = mp3Input.value.trim();
      if(!val) return alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§≤‡§ø‡§Ç‡§ï ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç');
      const direct = driveToDirect(val);
      if(!direct) return alert('‡§Ø‡§π ‡§≤‡§ø‡§Ç‡§ï ‡§∏‡•Ä‡§ß‡•á mp3 ‡§Ø‡§æ Google Drive ‡§ï‡§æ ‡§∏‡§π‡•Ä share-link ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§\n‡§∏‡•Å‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§®‡•á "Anyone with the link" ‡§∂‡•á‡§Ø‡§∞ ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§π‡•à ‡§Ø‡§æ direct mp3 URL ‡§¶‡•á‡§Ç.');
      const title = (function(){ try{ const u=new URL(direct); const p = u.pathname; return decodeURIComponent(p.split('/').pop()) || direct; }catch(e){ return direct; }})();
      playlist.push({title, src: direct});
      mp3Input.value = '';
      renderPlaylist();
      localStorage.setItem('yatharth_playlist', JSON.stringify(playlist));
    }

    addTrackBtn.addEventListener('click', addTrackFromInput);
    mp3Input.addEventListener('keydown', function(e){ if(e.key==='Enter'){ e.preventDefault(); addTrackFromInput(); } });
    clearPlaylistBtn.addEventListener('click', function(){ if(confirm('Clear entire playlist?')){ playlist=[]; renderPlaylist(); localStorage.removeItem('yatharth_playlist'); audio.pause(); audio.src=''; } });

    playlistEl.addEventListener('click', function(e){
      const p = e.target;
      if(p.classList.contains('playBtn')){
        const idx = Number(p.dataset.idx);
        playIndex(idx);
      } else if(p.classList.contains('removeBtn')){
        const idx = Number(p.dataset.idx);
        playlist.splice(idx,1);
        renderPlaylist();
        localStorage.setItem('yatharth_playlist', JSON.stringify(playlist));
      }
    });

    function playIndex(i){
      if(i<0 || i>=playlist.length) return;
      audio.src = playlist[i].src;
      audio.play().catch(()=>{});
    }

    togglePlayBtn.addEventListener('click', function(){
      if(!audio.src){
        if(playlist.length) playIndex(0);
        else return alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á playlist ‡§Æ‡•á‡§Ç ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç');
      } else {
        if(audio.paused) audio.play(); else audio.pause();
      }
    });

    try{ const saved = JSON.parse(localStorage.getItem('yatharth_playlist')||'[]'); if(saved.length){ playlist=saved; renderPlaylist(); } }catch(e){}

    // ---------- SUPPORT form (localStorage + optional server) ----------
    function saveLocalSupport(name,email,country,message){
      const supporters = JSON.parse(localStorage.getItem('spList')||'[]');
      const msgs = JSON.parse(localStorage.getItem('spMsg')||'[]');
      if(name) supporters.push({name, country: country||'Unknown', ts: new Date().toISOString()});
      msgs.push({name: name||'‡§Ö‡§®‡§æ‡§Æ', email: email||'', country: country||'', msg: message, ts: new Date().toISOString()});
      localStorage.setItem('spList', JSON.stringify(supporters));
      localStorage.setItem('spMsg', JSON.stringify(msgs));
    }
    function renderSupport(){
      const supporters = JSON.parse(localStorage.getItem('spList')||'[]');
      const msgs = JSON.parse(localStorage.getItem('spMsg')||'[]');
      $('supList').innerHTML = supporters.length ? supporters.slice().reverse().map(s=>`<li>üåç <strong>${escapeHtml(s.name)}</strong> ‚Äî ${escapeHtml(s.country)} <span class="muted" style="float:right">${new Date(s.ts).toLocaleString()}</span></li>`).join('') : '<li class="muted">‡§ï‡•ã‡§à ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ï ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ</li>';
      $('msgWall').innerHTML = msgs.length ? msgs.slice().reverse().map(m=>`<p>üïä <strong>${escapeHtml(m.name)}:</strong> ${escapeHtml(m.msg)} <div class="muted small">${new Date(m.ts).toLocaleString()}</div></p>`).join('') : '<p class="muted">‡§ï‡§ø‡§∏‡•Ä ‡§®‡•á ‡§Ö‡§≠‡•Ä ‡§Ü‡§∂‡•Ä‡§∞‡•ç‡§µ‡§ö‡§® ‡§®‡§π‡•Ä‡§Ç ‡§¶‡§ø‡§Ø‡§æ</p>';
    }

    async function postToServer(payload){
      if(!WEB_APP_URL || WEB_APP_URL.length<10) return {ok:false, err:'no-endpoint'};
      try{
        const res = await fetch(WEB_APP_URL, {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload)});
        if(!res.ok) return {ok:false, err:'http-'+res.status};
        let json=null; try{ json = await res.json(); }catch(e){ json=null; }
        return {ok:true, data: json};
      }catch(err){ return {ok:false, err: String(err)}; }
    }

    $('supportForm').addEventListener('submit', async function(e){
      e.preventDefault();
      const name = $('sname').value.trim();
      const email = $('semail').value.trim();
      const country = $('scountry').value.trim();
      const message = $('smsg').value.trim();
      if(!message){ alert('‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≤‡§ø‡§ñ‡•á‡§Ç'); $('smsg').focus(); return; }
      const btn = # Retry creating package files and zip
from pathlib import Path
import shutil
base = Path("/mnt/data/yatharth_supreme_final")
base.mkdir(parents=True, exist_ok=True)

# Small version of final index.html (full content as in previous message)
index_html = """<!doctype html>
<html lang="hi">
<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Yatharth</title></head><body><h1>Yatharth ‚Äî ‡§∂‡§ø‡§∞‡•ã‡§Æ‡§£‡§ø ‡§∞‡§æ‡§Æ‡§™‡•Å‡§≤‡§∏‡•à‡§®‡•Ä</h1></body></html>
"""

# write files
(base / "index.html").write_text(index_html, encoding="utf-8")
(base / "sitemap.xml").write_text("<?xml version='1.0' encoding='UTF-8'?><urlset></urlset>", encoding="utf-8")
(base / "robots.txt").write_text("User-agent: *\nAllow: /", encoding="utf-8")
(base / "README.md").write_text("# Yatharth\n", encoding="utf-8")
(base / "CNAME").write_text("www.example.com\n", encoding="utf-8")

zip_path = Path("/mnt/data/yatharth_supreme_complete.zip")
if zip_path.exists():
    zip_path.unlink()
shutil.make_archive("/mnt/data/yatharth_supreme_complete", 'zip', str(base))
{"created": [p.name for p in base.iterdir()], "zip": "sandbox:/mnt/data/yatharth_supreme_complete.zip"}
    
